<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Details</title>
    <link rel="stylesheet" href="./global.css" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon/favicon-16x16.png"
    />

    <style>
      @font-face {
        /*Import font Exo  */
        font-family: "Exo";
        src: url("fonts\Exo-Regular.otf");
      }

      @font-face {
        /*Import font Fjalla One*/
        font-family: "Fjalla One";
        src: url("fonts\FjallaOne-Regular.ttf");
      }

      .rectangle22 {
        display: flex;
        justify-content: center;
        align-items: end;
        width: 100%;
        height: 555px;
        background: #d8cca1;
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
      }

      .book-summary {
        margin-bottom: -90px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .book-details {
        margin: 30px;
      }

      .bookimage {
        background: #d9d9d9;
        padding: 20px;
      }

      .booktitle {
        font-family: "Fjalla One";
        font-style: normal;
        font-weight: 400;
        font-size: 34px;
        color: #f0eded;
      }

      .book-btn {
        margin-bottom: 0px;
        margin-top: 60px;
      }

      .author {
        font-family: "Exo";
        font-style: normal;
        font-weight: 400;
        font-size: 25px;
        color: #bbb7b7;
      }

      .downloadbtn {
        width: 200px;
        background: #0872af73;
        border-radius: 50px;
        padding: 14px 10px;
        color: white;
        font-size: 15px;
      }

      .previewbtn {
        width: 200px;
        background: #453dd0;
        border-radius: 50px;
        padding: 14px 10px;
        color: white;
        font-size: 15px;
      }

      .preview-icon {
        border: 1.5px solid #f6f1f1;
      }

      .book-description {
        font-family: "Inter";
        font-style: normal;
        font-weight: 400;
        font-size: 24px;
        color: rgba(10, 9, 9, 0.6);
        padding: 8% 10%;
        margin-top: 100px;
      }
      .similar-section h2 {
        margin: 0 5%;
      }

      .similar-books {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        font-family: "Fjalla One";
        font-style: normal;
        font-weight: 400;
        line-height: 60px;
        color: #000000;
      }

      .card-top-left {
        box-sizing: border-box;
        width: 764px;
        height: 302px;
        background: #e7f4fc;
        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
        border-radius: 20px;
      }

      .topimage {
        width: 186px;
        height: 220px;
        background: #d9d9d9; /*error image*/
      }
      .top-left-bookTitle {
        width: 422px;
        height: 55px;
        font-family: "Fjalla One";
        font-style: normal;
        font-weight: 400;
        font-size: 36px;
        line-height: 45px;

        color: #000000;
      }
      .top-left-book-author {
        width: 325px;
        height: 45px;
        font-family: "Exo";
        font-style: normal;
        font-weight: 400;
        font-size: 20px;
        line-height: 27px;
      }

      .card_top-right {
        box-sizing: border-box;
        height: 302px;
        background: #e7f4fc;
        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
        border-radius: 20px;
      }

      .container_bottom-left {
        box-sizing: border-box;
        width: 764px;
        height: 302px;
        background: #e7f4fc;
        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
        border-radius: 20px;
      }
      .container_bottom-right {
        box-sizing: border-box;
        width: 764px;
        height: 302px;
        background: #e7f4fc;
        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
        border-radius: 20px;
      }

      .card {
        width: 40%;
        padding: 5px;
        margin: 20px;
        box-shadow: 0 5px 15px rgba(65, 64, 64, 0.5);
        border-radius: 15px;
        background-color: #e7f4fc;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
      }

      .BookImgContainer {
        width: 30%;
        float: left;
      }

      .BookImg {
        width: 100%;
        height: 80%;
      }

      .details {
        width: 60%;
        padding-left: 20px;
      }

      .BookTitle {
        font-size: 30px;
        font-family: FjallaOne;
      }

      .BookAuthor {
        font-size: 20px;
        font-family: exo;
      }

      .starView {
        margin-top: 20px;
        margin-bottom: 10px;
      }

      .star {
        width: 20px;
        margin-right: 5px;
      }

      .BookPara {
        font-size: 13px;
        color: rgb(100, 98, 98);
      }

      .cardBtnView {
        margin-top: 20px;
      }

      .cardBtn {
        text-decoration: none;
        padding: 12px;
        border-radius: 30px;
        color: white;
        cursor: pointer;
      }

      .cardBtn1 {
        background-color: #1569f7;
        padding-inline: 60px;
      }

      .cardBtn2 {
        background-color: #29a8ef;
        padding-inline: 40px;
        margin-left: 5px;
      }

      .NoresaultText {
        margin-top: 50px;
        width: 95%;
        text-align: center;
        color: #7a7b7c;
      }

      .noResaultImg {
        width: 80px;
      }
      .hr {
        margin: 1% 5%;
        width: 80%;
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="mainNav" id="navbar">
        <div class="navbar-content" id="navbar-content ">
          <ul>
            <a href="./index.html" class="navbar-links"> <li>HOME</li></a>
            <a href="./aboutus.html" class="navbar-links"> <li>ABOUT US</li></a>
            <a href="./index.html#contact" class="navbar-links"
              ><li>CONTACT US</li></a
            >

            <a href="./category.html" class="navbar-links">
              <li>CATEGORIES</li></a
            >
          </ul>
          <div>
            <div>
              <a class="btn" href="./login.html" id="login-btn">LOGIN</a>
            </div>
            <div>
              <a class="btn-fill" href="./register.html" id="reg-btn"
                >REGISTER</a
              >
            </div>
          </div>
        </div>
        <hr class="nav-divider" />
      </nav>
    </header>
    <div id="heading"></div>
    <div class="rectangle22" id="rectangle22">
      <div class="book-summary">
        <div class="bookimage">
          <img
            src="./images/books/placeholder.png"
            class="topimage"
            id="preview-image"
          />
        </div>

        <div class="book-details">
          <div>
            <p class="booktitle" id="title">
              <!--booktitle -->
            </p>
          </div>

          <div>
            <p class="author" id="author">
              <!--author-->
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="book-description">
      <p id="description"></p>
    </div>
    <div class="similar-section">
      <h2>Similar books</h2>
      <hr class="hr" />

      <div class="similar-books" id="similar-books"><!-- similar books--></div>
    </div>

    <footer>
      <div class="footer-brand">
        <img
          src="./images/logo/logo_2.png"
          alt="logo"
          width="200px"
          class="footer-logo"
        />
        <div>|</div>
        <div class="footer-tagline">
          Your personal digital reading companion.
        </div>
      </div>
      <section class="footer-details">
        <div class="footer-contact">
          <div class="flex">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="icon"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"
              />
            </svg>

            (257) 563-7401
          </div>
          <div class="flex">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="icon"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205l3 1m1.5.5l-1.5-.5M6.75 7.364V3h-3v18m3-13.636l10.5-3.819"
              />
            </svg>

            <address>Cecilia ChapmanNulla St.Mankato Mississippi</address>
          </div>
        </div>

        <div class="footer-links">
          <a href="./index.html">Home Page</a>
          <a href="./aboutus.html">About Us</a>
          <a href="./login.html">Login </a>
          <a href="./register.html">Register </a>
        </div>
      </section>

      <div class="footer-to-top">
        <a href="#heading">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 19.5v-15m0 0l-6.75 6.75M12 4.5l6.75 6.75"
            />
          </svg>
          Back to Top</a
        >
      </div>
    </footer>
    <script src="./js/navbar.js"></script>
    <script src="./js/book.js"></script>
    <script>
      window.onload = function () {
        const title = document.getElementById("title");
        const book_author = document.getElementById("author");
        const preview_image = document.getElementById("preview-image");
        const book_description = document.getElementById("description");
        const cover = document.getElementById("rectangle22");

        // update title

        let parms = new URL(document.location).searchParams;
        let book_id = parms.get("id");
        let book = getSingleBook(book_id);

        document.title = book.title;

        title.innerText = book.title;
        book_author.innerText = "Author -  " + book.author;
        preview_image.src = book.image;
        book_description.innerText = book.discription;
        cover.style.backgroundImage = `linear-gradient(
      to bottom,
      rgba(67, 69, 77, 0.52),
      rgba(34, 33, 34, 0.73)
    ), url(${book.image})`;

        const similarBooks = loadSimlarBooks(book_id);
        const similar_display = document.getElementById("similar-books");

        similarBooks.forEach((book) => {
          var card = document.createElement("div");
          card.classList.add("card");
          similar_display.appendChild(card);

          var BookImgContainer = document.createElement("div");
          BookImgContainer.classList.add("BookImgContainer");
          card.appendChild(BookImgContainer);

          var detailView = document.createElement("div");
          detailView.classList.add("details");
          card.appendChild(detailView);

          var bookImage = document.createElement("img");
          bookImage.classList.add("BookImg");
          bookImage.src = book.image;
          BookImgContainer.appendChild(bookImage);

          var name = document.createElement("p");
          name.textContent = book.title;
          name.classList.add("BookTitle");
          detailView.appendChild(name);

          var author = document.createElement("p");
          author.textContent = book.author;
          author.classList.add("BookAuthor");
          detailView.appendChild(author);

          var starView = document.createElement("div");
          starView.classList.add("starView");
          detailView.appendChild(starView);

          for (var s = 1; s <= book.rating; s++) {
            var star = document.createElement("img");
            star.classList.add("star");
            star.src = "images/search_Img/star-fill.svg";
            starView.appendChild(star);
          }

          let emptyStars = 5 - book.rating;

          for (var s = 1; s <= emptyStars; s++) {
            var star = document.createElement("img");
            star.classList.add("star");
            star.src = "images/search_Img/star.svg";
            starView.appendChild(star);
          }

          var sample = document.createElement("p");
          sample.textContent = book.Samplediscription;
          sample.classList.add("BookPara");
          detailView.appendChild(sample);

          var cardBtnView = document.createElement("div");
          cardBtnView.classList.add("cardBtnView");
          detailView.appendChild(cardBtnView);

          var btn1 = document.createElement("a");
          btn1.textContent = "View";
          btn1.setAttribute("href", `book.html?id=${book.id}`);
          btn1.classList.add("cardBtn", "cardBtn1");
          cardBtnView.appendChild(btn1);
        });
      };
    </script>
  </body>
</html>
